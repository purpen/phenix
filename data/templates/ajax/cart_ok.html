<taconite>
	{% if action == 'delete' %}
		<remove select="#product_{{ sku }}" />
	{% endif %}
	
	{% if items_count == 0 %}
	<replace select="#cart-body-content">
		<div class="ui column" id="cart-body-content">
			<h3 class="ui header">我的购物车</h3>
			<div class="ui message">
				您还没找到喜欢的产品吗？<a href="{{ app_url_shop }}" class="ui link">赶快去选购吧</a>
			</div>
		</div>
	</replace>
	{% endif %}
	
	<eval>
		{% if action == 'add' %}
			$('#product-{{ sku }} .ui.message')
				.html('已成功加入购物车')
				.fadeTo(300, 1.0);
			
			var timer = setTimeout(function(){
				$('#product-{{ sku }} .ui.message').fadeTo(300, 0);
			}, 1000);	
			
		{% endif %}
		
		// 更新购物篮
		{% if items_count %}
			$('#shopping-basket')
				.find('.ui.label')
				.removeClass('hide')
				.text({{ items_count }});
		{% else %}
			$('#shopping-basket')
				.find('.ui.label')
				.addClass('hide')
				.text({{ items_count }});
		{% endif %}
		
		// 更新购物车
		$('#cart_items_count').text({{ items_count }});
		$('#cart_total_money').text({{ total_money }});
		
	</eval>
</taconite>