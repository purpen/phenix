{%extends 'layout/mobile.html'%}
{% block title %}{% endblock %}
{% block page_css %}
<style type="text/css">
	header.ui.wap{
		display:none !important;
		opacity:0;
	}
	#mfrbird{
		margin:0;
	}
	.mmfoot{
		display:none;
	}
	* { -webkit-appearance: none; }
	html,body{
		height:100%;
	}
	.swiper-container {
	  /*  width: 320px;
	    height: 480px;*/
		width: 100%;
	  height: 100%;
		background:#fff;
		margin:0 auto;
		position:relative;
		overflow:hidden;
		z-index:1;
	}  
	.swiper-container-vertical>.swiper-wrapper {
	  -webkit-box-orient: vertical;
	  -moz-box-orient: vertical;
	  -ms-flex-direction: column;
	  -webkit-flex-direction: column;
	  flex-direction: column;
	}
	.swiper-wrapper {
	  -webkit-transform: translate3d(0px, 0, 0);
	  -moz-transform: translate3d(0px, 0, 0);
	  -o-transform: translate(0px, 0px);
	  -ms-transform: translate3d(0px, 0, 0);
	  transform: translate3d(0px, 0, 0);
	}
	.swiper-wrapper {
	  position: relative;
	  width: 100%;
	  height: 100%;
	  z-index: 1;
	  display: -webkit-box;
	  display: -moz-box;
	  display: -ms-flexbox;
	  display: -webkit-flex;
	  display: flex;
	  -webkit-transform-style: preserve-3d;
	  -moz-transform-style: preserve-3d;
	  -ms-transform-style: preserve-3d;
	  transform-style: preserve-3d;
	  -webkit-transition-property: -webkit-transform;
	  -moz-transition-property: -moz-transform;
	  -o-transition-property: -o-transform;
	  -ms-transition-property: -ms-transform;
	  transition-property: transform;
	  -webkit-box-sizing: content-box;
	  -moz-box-sizing: content-box;
	  box-sizing: content-box;
	}
	.swiper-slide{
		width:100%;
		height:100%;
		background-size:100% 100%;
		-webkit-transform-style: preserve-3d;
		-moz-transform-style: preserve-3d;
	  -ms-transform-style: preserve-3d;
	  transform-style: preserve-3d;
	  -webkit-flex-shrink: 0;
	  -ms-flex: 0 0 auto;
	  flex-shrink: 0;
	}
	img{
		display:block;
	}
	@-webkit-keyframes start {
		0%,30% {opacity: 0;-webkit-transform: translate(0,10px);}
		60% {opacity: 1;-webkit-transform: translate(0,0);}
		100% {opacity: 0;-webkit-transform: translate(0,-8px);}
	}
	@-moz-keyframes start {
		0%,30% {opacity: 0;-moz-transform: translate(0,10px);}
		60% {opacity: 1;-moz-transform: translate(0,0);}
		100% {opacity: 0;-moz-transform: translate(0,-8px);}
	}
	@keyframes start {
		0%,30% {opacity: 0;transform: translate(0,10px);}
		60% {opacity: 1;transform: translate(0,0);}
		100% {opacity: 0;transform: translate(0,-8px);}
	}
	.ani{
		position:absolute;
		}
	.txt{
		position:absolute;
	}
	#array{
		position:absolute;z-index:999;-webkit-animation: start 1.5s infinite ease-in-out;
	}
	.p1{
		background: url('http://frstatic.qiniudn.com/images/egg/egg_bg.jpg');
		background-size:cover;
	}
	.p2{
		background: url('http://frstatic.qiniudn.com/images/egg/egg_2.jpg');
		background-size:cover;
	}
	.p3{
		background: url('http://frstatic.qiniudn.com/images/egg/egg_3.jpg');
		background-size:cover;
	}

</style>
<link rel="stylesheet" href="http://frstatic.qiniudn.com/wechat/js/animate.min.css">
{% endblock %}
{% block layout_js %}
	<script src="http://frstatic.qiniudn.com/wechat/js/audio5.min.js" type="text/javascript"></script>
	<script src="http://frstatic.qiniudn.com/wechat/js/swiper3.06.min.js" type="text/javascript"></script>
	<script src="http://frstatic.qiniudn.com/wechat/js/swiper.animate1.0.2.min.js" type="text/javascript"></script>
	<script type="text/javascript" >
		scaleW=window.innerWidth/320;
		scaleH=window.innerHeight/480;
		var resizes = document.querySelectorAll('.resize');
		          for (var j=0; j<resizes.length; j++) {
		           resizes[j].style.width=parseInt(resizes[j].style.width)*scaleW+'px';
				   resizes[j].style.height=parseInt(resizes[j].style.height)*scaleH+'px';
				   resizes[j].style.top=parseInt(resizes[j].style.top)*scaleH+'px';
				   resizes[j].style.left=parseInt(resizes[j].style.left)*scaleW+'px'; 
		          }
			/****  轮播   ****/
			var myswiperH = new Swiper('.horizontal', {
					direction : 'horizontal',
	        paginationClickable: true,
	        spaceBetween: 50
	    });				
			/**** end ****/
		  var mySwiperV = new Swiper ('.vertical', {
		   direction : 'vertical',
		   pagination: '.swiper-pagination',
		  //virtualTranslate : true,
			//鼠标滑动
		   mousewheelControl : false,
		   onInit: function(swiper){
		   swiperAnimateCache(swiper);
		   swiperAnimate(swiper);
			  },
		   onSlideChangeEnd: function(swiper){
			swiperAnimate(swiper);
		    },
			onTransitionEnd: function(swiper){
			swiperAnimate(swiper);
		    },


			watchSlidesProgress: true,

					onProgress: function(swiper) {
							for (var i = 0; i < swiper.slides.length; i++) {
								var slide = swiper.slides[i];
								var progress = slide.progress;
								var translate, boxShadow;

								translate = progress * swiper.height * 0.8;
								scale = 1 - Math.min(Math.abs(progress * 0.2), 1);
								boxShadowOpacity = 0;

								slide.style.boxShadow = '0px 0px 10px rgba(0,0,0,' + boxShadowOpacity + ')';

								if (i == swiper.myactive) {
									es = slide.style;
									es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = 'translate3d(0,' + (translate) + 'px,0) scale(' + scale + ')';
									es.zIndex=0;


								}else{
									es = slide.style;
									es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform ='';
									es.zIndex=1;

								}

							}

						},
						onTransitionEnd: function(swiper, speed) {
								for (var i = 0; i < swiper.slides.length; i++) {
								//	es = swiper.slides[i].style;
								//	es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = '';

								//	swiper.slides[i].style.zIndex = Math.abs(swiper.slides[i].progress);


								}

								swiper.myactive = swiper.activeIndex;

							},
							//平滑效果
		      /*onProgress: function(swiper){
		        for (var i = 0; i < swiper.slides.length; i++){
		          var slide = swiper.slides[i];
		          var progress = slide.progress;
		          var translate = progress*swiper.height/4;  
				  scale = 1 - Math.min(Math.abs(progress * 0.5), 1);
		          var opacity = 1 - Math.min(Math.abs(progress/2),0.5);
		          slide.style.opacity = opacity;
				  es = slide.style;
				  es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = 'translate3d(0,'+translate+'px,-'+translate+'px) scaleY(' + scale + ')';

		        }
		      },*/

			   onSetTransition: function(swiper, speed) {
		        for (var i = 0; i < swiper.slides.length; i++){
		          es = swiper.slides[i].style;
				  es.webkitTransitionDuration = es.MsTransitionDuration = es.msTransitionDuration = es.MozTransitionDuration = es.OTransitionDuration = es.transitionDuration = speed + 'ms';

		        }
		      },
			   });        
		  </script>
	</script>

{% endblock %}

{% block jquery %}
	/*bgm = new Audio5js({
      swf_path: 'http://frstatic.qiniudn.com/wechat/js/audio5js/swf/audio5js.swf',
      ready: function () {
          this.load('http://frstatic.qiniudn.com/wechat/js/Uncharted Worlds.mp3');
          this.play();

          this.on('canplay', function(){
              //console.log('canplay');
          });   

          this.on('ended', function(){
              bgm.play();
          })           
      }
  });

  $('#music-control').click(function(){
      bgm.playPause();
  });*/
{% endblock %}
{% block content %}
<div class="swiper-container vertical">
  <div class="swiper-wrapper">
		<div class="swiper-slide p1">
			<img src="http://frstatic.qiniudn.com/images/egg/menu1.png" class="ani resize" style="width:320px;height:85px;" swiper-animate-effect="fadeInLeft" swiper-animate-duration="1s" swiper-animate-delay="1s">
			<img src="http://frstatic.qiniudn.com/images/egg/word.png" class="ani resize" style="width:224px;height:90px;top:85px;left:10px;" swiper-animate-effect="fadeInLeft" swiper-animate-duration="1s" swiper-animate-delay="1s">
			<img src="http://frstatic.qiniudn.com/images/egg/btn.png" class="ani resize" style="width:224px;height:49px;top:175px;left:10px;" swiper-animate-effect="fadeInLeft" swiper-animate-duration="1s" swiper-animate-delay="1.5s">
			<img src="http://frstatic.qiniudn.com/images/egg/150.png" class="ani resize" style="width:224px;height:102px;top:224px;left:10px;" swiper-animate-effect="fadeInLeft" swiper-animate-duration="1s" swiper-animate-delay="2s">
			
		</div>
		<div class="swiper-slide p2">
			<img src="http://frstatic.qiniudn.com/images/egg/menu1.png" class="ani resize" style="width:320px;height:85px;" swiper-animate-effect="fadeInLeft" swiper-animate-duration="1s" swiper-animate-delay="1s">
			<img src="http://frstatic.qiniudn.com/images/egg/word.png" class="ani resize" style="width:224px;height:90px;top:85px;left:10px;" swiper-animate-effect="fadeInTopBig" swiper-animate-duration="1s" swiper-animate-delay="1s">
			<img src="http://frstatic.qiniudn.com/images/egg/btn.png" class="ani resize" style="width:224px;height:49px;top:175px;left:10px;" swiper-animate-effect="fadeInTopBig" swiper-animate-duration="1s" swiper-animate-delay="1.5s">
			<img src="http://frstatic.qiniudn.com/images/egg/150.png" class="ani resize" style="width:224px;height:102px;top:224px;left:10px;" swiper-animate-effect="fadeInTopBig" swiper-animate-duration="1s" swiper-animate-delay="2s">
		</div>
		
		<div class="swiper-slide p3">
			
		</div>
		
		
	</div>
	<img src="http://www.swiper.com.cn/demo/tiger/images/arrow.png" style="width:20px;height:15px; top:450px; left:150px;" id="array" class="resize"> 
</div>














{%endblock%}