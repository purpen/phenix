{%extends 'layout/mobile.html'%}
{% block title %}{% endblock %}
{% block page_css %}
<style type="text/css">
	header.ui.wap{
		display:none !important;
		opacity:0;
	}
	#mfrbird{
		margin:0;
	}
	.mmfoot{
		display:none;
	}
	*{
		margin:0;
		padding:0;
	}
	html,body{
		height:100%;
	}
	#loading{
	  background: #fff;
	  width: 100%;
	  height: 100%;
	  position: absolute;
	  z-index: 9999;
	  top: 0;
	}
	.loadbox{
		display: block;
		position: relative;
		width: 100%;
		height: 100%;
	  margin: 0 auto;
		margin-top: 50%;
	}
	.loadbg{
		display: block;
		position: absolute;
		z-index: 1000;
		width: 100%;
		height: 100%;
		/*background: url({{ app_url_packaged }}/images/promo/jd.gif) no-repeat;*/
		color:#fff;
		font-size:18px;
		text-align:center;
		background-size: 100%;
	}
	.swiper-container {
	  /*  width: 320px;
	    height: 480px;*/
		width: 100%;
	  height: 100%;
		background:#fff;
		margin:0 auto;
		position:relative;
		overflow:hidden;
		z-index:1;
	} 
	img{
		display:block;
	}
	@-webkit-keyframes start {
		0%,30% {opacity: 0;-webkit-transform: translate(0,10px);}
		60% {opacity: 1;-webkit-transform: translate(0,0);}
		100% {opacity: 0;-webkit-transform: translate(0,-8px);}
	}
	@-moz-keyframes start {
		0%,30% {opacity: 0;-moz-transform: translate(0,10px);}
		60% {opacity: 1;-moz-transform: translate(0,0);}
		100% {opacity: 0;-moz-transform: translate(0,-8px);}
	}
	@keyframes start {
		0%,30% {opacity: 0;transform: translate(0,10px);}
		60% {opacity: 1;transform: translate(0,0);}
		100% {opacity: 0;transform: translate(0,-8px);}
	}
	#array{
		position:absolute;z-index:999;-webkit-animation: start 1.5s infinite ease-in-out;
		width: 20px;
		height: 15px;
		top: 94%;
		left: 50%;
		margin-left: -10px;
	}
	#music-control {
		width: 30px;
		height: 30px;
		position: fixed;
		right: 5px;
		top: 5px;
		z-index: 100000;
	}
	.swiper-slide img{
		width:100%;
		height:100%;
	}
	
	
	
</style>
	<link rel="stylesheet" href="http://frstatic.qiniudn.com/wechat/js/animate.min-1.css">
	<link rel="stylesheet" href="http://frstatic.qiniudn.com/wechat/js/swiper.min.css">
{% endblock %}
{% block layout_js %}
	<script src="http://frstatic.qiniudn.com/wechat/js/swiper.min-1.js" type="text/javascript"></script>
	<script src="http://frstatic.qiniudn.com/wechat/js/swiper.animate.min.js" type="text/javascript"></script>
	<script src="http://frstatic.qiniudn.com/wechat/js/audio5.min.js" type="text/javascript"></script>

	<script type="text/javascript">  
		scaleW=window.innerWidth/320;
		scaleH=window.innerHeight/480;
		var resizes = document.querySelectorAll('.resize');
		for (var j=0; j<resizes.length; j++) {
			resizes[j].style.width=parseInt(resizes[j].style.width)*scaleW+'px';
		  resizes[j].style.height=parseInt(resizes[j].style.height)*scaleH+'px';
	    resizes[j].style.top=parseInt(resizes[j].style.top)*scaleH+'px';
	    resizes[j].style.left=parseInt(resizes[j].style.left)*scaleW+'px'; 
		}
	  var mySwiperV = new Swiper ('.swiper-container', {
	   direction : 'vertical',
	   pagination: '.swiper-pagination',
	  //virtualTranslate : true,
		//鼠标滑动
	   mousewheelControl : false,
	   onInit: function(swiper){
	   	 swiperAnimateCache(swiper);
	   	 swiperAnimate(swiper);
		 },
	   onSlideChangeEnd: function(swiper){
			 swiperAnimate(swiper);
	   },
		 onTransitionEnd: function(swiper){
		   swiperAnimate(swiper);
	   },


	    watchSlidesProgress: true,

			onProgress: function(swiper) {
			  for (var i = 0; i < swiper.slides.length; i++) {
						var slide = swiper.slides[i];
						var progress = slide.progress;
						var translate, boxShadow;

						translate = progress * swiper.height * 0.8;
						scale = 1 - Math.min(Math.abs(progress * 0.2), 1);
						boxShadowOpacity = 0;

						slide.style.boxShadow = '0px 0px 10px rgba(0,0,0,' + boxShadowOpacity + ')';

						if (i == swiper.myactive) {
							es = slide.style;
							es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = 'translate3d(0,' + (translate) + 'px,0) scale(' + scale + ')';
							es.zIndex=0;


						}else{
							es = slide.style;
							es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform ='';
							es.zIndex=1;

						}

					}

			},
		  onTransitionEnd: function(swiper, speed) {
				for (var i = 0; i < swiper.slides.length; i++) {
				//	es = swiper.slides[i].style;
				//	es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = '';

				//	swiper.slides[i].style.zIndex = Math.abs(swiper.slides[i].progress);


				}

				swiper.myactive = swiper.activeIndex;

	    },
			//平滑效果
	     /*onProgress: function(swiper){
	       for (var i = 0; i < swiper.slides.length; i++){
	         var slide = swiper.slides[i];
	         var progress = slide.progress;
	         var translate = progress*swiper.height/4;  
		  scale = 1 - Math.min(Math.abs(progress * 0.5), 1);
	         var opacity = 1 - Math.min(Math.abs(progress/2),0.5);
	         slide.style.opacity = opacity;
		  es = slide.style;
		  es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = 'translate3d(0,'+translate+'px,-'+translate+'px) scaleY(' + scale + ')';

	       }
	     },*/

	   	onSetTransition: function(swiper, speed) {
		       for (var i = 0; i < swiper.slides.length; i++){
		         es = swiper.slides[i].style;
			  es.webkitTransitionDuration = es.MsTransitionDuration = es.msTransitionDuration = es.MozTransitionDuration = es.OTransitionDuration = es.transitionDuration = speed + 'ms';

		       }
		  },



	  });
		
	</script> 
	<script>document.write('<style>#loading{display:none}</style>');</script>      
{% endblock %}

{% block jquery %}
	/*bgm = new Audio5js({
      swf_path: 'http://frstatic.qiniudn.com/wechat/js/audio5js/swf/audio5js.swf',
      ready: function () {
          this.load('http://frstatic.qiniudn.com/wechat/js/Uncharted Worlds.mp3');
          this.play();

          this.on('canplay', function(){
              //console.log('canplay');
          });   

          this.on('ended', function(){
              bgm.play();
          })           
      }
  });*/

  $('#music-control').click(function(){
      bgm.playPause();
  });
{% endblock %}
{% block content %}
<div id='loading'><div class="loadbox"><div class="loadbg"></div></div></div>
<div id="music-control"><img src="http://frstatic.qiniudn.com/images/music.png" width="29" height="29" /></div>
<div class="swiper-container">
  <div class="swiper-wrapper">
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu1.jpg">
		</div>
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu2.jpg">
		</div>
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu3.jpg">
		</div>
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu4.jpg">
		</div>
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu5.jpg">
		</div>
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu6.jpg">
		</div>
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu7.jpg">
		</div>
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu8.jpg">
		</div>
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu9.jpg">
		</div>
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu10.jpg">
		</div>
		<div class="swiper-slide">
			<img src="http://frstatic.qiniudn.com/images/promo/tu11.jpg">
		</div>
	</div>
	<img src="http://www.swiper.com.cn/demo/tiger/images/arrow.png" id="array"> 
</div>

{%endblock%}
			
			
			
