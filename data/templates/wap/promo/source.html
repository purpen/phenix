{%extends 'layout/h5app.html'%}
{% block title %}神卜鸟仙：你的2016运势大揭秘{% endblock %}
{% block page_css %}
<style type="text/css">
	.loading {
	    position: relative;
	    width: 100%;
	    height: 100%;
	    background-image: url({{ app_url_packaged }}/images/promo/source/page1bg.png);
	    background-repeat: no-repeat;
	    background-size: 100% 100%;
	}

	pulse {
	    -webkit-animation: fa-spin 1s infinite steps(8);
	    animation: fa-spin 1s infinite steps(8);
	}

	@-webkit-keyframes fa-spin {
	    0% {
	        -webkit-transform: rotate(0deg);
	        transform: rotate(0deg);
	    }
	    100% {
	        -webkit-transform: rotate(359deg);
	        transform: rotate(359deg);
	    }
	}

	@keyframes fa-spin {
	    0% {
	        -webkit-transform: rotate(0deg);
	        transform: rotate(0deg);
	    }
	    100% {
	        -webkit-transform: rotate(359deg);
	        transform: rotate(359deg);
	    }
	}

	.loading__inner {
	    position: absolute;
	    left: 50%;
	    top: 50%;
	    margin-left: -15px;
	    margin-top: -25px;
	    width: 30px;
	    height: 50px;
	    text-align: center;
	    color: #fddfa9;
	    font-size: 12px;
	}

	.loading__img {
	    width: 31px;
	    height: 31px;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-position: 0 0;
	    background-size: 1000px 706px;
	    position: absolute;
	    top: 0;
	    left: 0;
	    -webkit-animation: fa-spin 2s infinite linear;
	    animation: fa-spin 2s infinite linear;
	}

	.loading-num {
	    position: absolute;
	    left: 0;
	    top: 35px;
	    width: 100%;
	    text-align: center;
	}
	/**** 横屏 ****/

	@-webkit-keyframes rotation {
	    10% {
	        transform: rotate(90deg);
	        -webkit-transform: rotate(90deg)
	    }
	    50%,
	    60% {
	        transform: rotate(0deg);
	        -webkit-transform: rotate(0deg)
	    }
	    90% {
	        transform: rotate(90deg);
	        -webkit-transform: rotate(90deg)
	    }
	    100% {
	        transform: rotate(90deg);
	        -webkit-transform: rotate(90deg)
	    }
	}

	@keyframes rotation {
	    10% {
	        transform: rotate(90deg);
	        -webkit-transform: rotate(90deg)
	    }
	    50%,
	    60% {
	        transform: rotate(0deg);
	        -webkit-transform: rotate(0deg)
	    }
	    90% {
	        transform: rotate(90deg);
	        -webkit-transform: rotate(90deg)
	    }
	    100% {
	        transform: rotate(90deg);
	        -webkit-transform: rotate(90deg)
	    }
	}

	#orientLayer {
	    display: none;
	}

	@media screen and (min-aspect-ratio: 12/8) {
	    #orientLayer {
	        display: block;
	    }
	}

	.mod-orient-layer {
	    display: none;
	    position: fixed;
	    height: 100%;
	    width: 100%;
	    left: 0;
	    top: 0;
	    right: 0;
	    bottom: 0;
	    background: #000;
	    z-index: 9997;
	}

	.mod-orient-layer__content {
	    position: absolute;
	    width: 100%;
	    top: 45%;
	    margin-top: -75px;
	    text-align: center
	}

	.mod-orient-layer__icon-orient {
	    background-image: url({{ app_url_packaged }}/images/promo/hengping.png);
	    display: inline-block;
	    width: 67px;
	    height: 109px;
	    transform: rotate(90deg);
	    -webkit-transform: rotate(90deg);
	    -webkit-animation: rotation infinite 1.5s ease-in-out;
	    animation: rotation infinite 1.5s ease-in-out;
	    -webkit-background-size: 67px;
	    background-size: 67px;
	}

	.mod-orient-layer__desc {
	    margin-top: 20px;
	    font-size: 15px;
	    color: #fff
	}

	.music.playing {
	    -webkit-animation: 2.3s spin linear infinite;
	    animation: 2.3s spin linear infinite;
	}

	@-webkit-keyframes spin {
	    0% {
	        -webkit-transform: rotateZ(0deg);
	    }
	    100% {
	        -webkit-transform: rotateZ(360deg);
	    }
	}

	.music {
	    position: fixed;
	    background: url({{ app_url_packaged }}/images/promo/music_bg.png) 0 0 no-repeat;
	    z-index: 999;
	    width: 1.5rem;
	    height: 1.5rem;
	    right: 0.4rem;
	    top: 0.4rem;
	    background-size: 100% auto;
	}

	.music.stop {
	    background-position: 0 -1.5rem;
	}

	* {
	    margin: 0;
	    padding: 0;
	}

	html,
	body {
	    height: 100%;
	    -webkit-box-sizing: border-box;
	    -ms-box-sizing: border-box;
	    box-sizing: border-box;
	    -webkit-touch-callout: none;
	    -webkit-user-select: none;
	    -webkit-overflow-scrolling: touch;
	    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
	    -webkit-backface-visibility: hidden;
	    -webkit-perspective: 1000;
	    overflow: hidden;
	}

	.arrow {
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-position: 0 -47px;
	    background-size: 1500px 1059px;
	    position: absolute;
	    bottom: 30px;
	    width: 24px;
	    height: 30px;
	    left: 50%;
	    margin-left: -12px;
	    z-index: 9999;
	    animation: fadeInUp 1.5s .2s ease infinite;
	    -webkit-animation: fadeInUp 1.5s .2s infinite
	}

	@-webkit-keyframes fadeInUp {
	    0% {
	        opacity: 0;
	        -webkit-transform: translate3d(0, -20px, 0);
	        transform: translate3d(0, -20px, 0)
	    }
	    100% {
	        opacity: 1;
	        -webkit-transform: translate3d(0, 0px, 0);
	        transform: translate3d(0, 0px, 0)
	    }
	}

	@keyframes fadeInUp {
	    0% {
	        opacity: 0;
	        -webkit-transform: translate3d(0, -20px, 0);
	        transform: translate3d(0, -20px, 0)
	    }
	    100% {
	        opacity: 1;
	        -webkit-transform: translate3d(0, 0px, 0);
	        transform: translate3d(0, 0px, 0)
	    }
	}

	@-webkit-keyframes fadeOutUp {
	    0% {
	        opacity: 1
	    }
	    100% {
	        opacity: 0;
	        -webkit-transform: translate3d(0, -100%, 0);
	        transform: translate3d(0, -100%, 0)
	    }
	}

	@keyframes fadeOutUp {
	    0% {
	        opacity: 1
	    }
	    100% {
	        opacity: 0;
	        -webkit-transform: translate3d(0, -100%, 0);
	        -ms-transform: translate3d(0, -100%, 0);
	        transform: translate3d(0, -100%, 0)
	    }
	}

	@-webkit-keyframes slideOutUp {
	    0% {
	        -webkit-transform: translateY(0);
	        transform: translateY(0)
	    }
	    100% {
	        visibility: hidden;
	        -webkit-transform: translateY(-100%);
	        transform: translateY(-100%)
	    }
	}

	@keyframes slideOutUp {
	    0% {
	        -webkit-transform: translateY(0);
	        -ms-transform: translateY(0);
	        transform: translateY(0)
	    }
	    100% {
	        visibility: hidden;
	        -webkit-transform: translateY(-100%);
	        -ms-transform: translateY(-100%);
	        transform: translateY(-100%)
	    }
	}

	@-webkit-keyframes fadeInDown {
	    0% {
	        opacity: 0;
	        -webkit-transform: translate3d(0, -100%, 0);
	        transform: translate3d(0, -100%, 0)
	    }
	    100% {
	        opacity: 1;
	        -webkit-transform: none;
	        transform: none
	    }
	}

	@keyframes fadeInDown {
	    0% {
	        opacity: 0;
	        -webkit-transform: translate3d(0, -100%, 0);
	        -ms-transform: translate3d(0, -100%, 0);
	        transform: translate3d(0, -100%, 0)
	    }
	    100% {
	        opacity: 1;
	        -webkit-transform: none;
	        -ms-transform: none;
	        transform: none
	    }
	}

	@-webkit-keyframes zoomIn {
	    0% {
	        opacity: 0;
	        -webkit-transform: scale3d(.3, .3, .3);
	        transform: scale3d(.3, .3, .3)
	    }
	    50% {
	        opacity: 1
	    }
	}

	@keyframes zoomIn {
	    0% {
	        opacity: 0;
	        -webkit-transform: scale3d(.3, .3, .3);
	        -ms-transform: scale3d(.3, .3, .3);
	        transform: scale3d(.3, .3, .3)
	    }
	    50% {
	        opacity: 1
	    }
	}

	@-webkit-keyframes bounceIn {
		0%,100%,20%,40%,60%,80% {
			-webkit-transition-timing-function: cubic-bezier(0.215,.61,.355,1);
			transition-timing-function: cubic-bezier(0.215,.61,.355,1)
		}

		0% {
			opacity: 0;
			-webkit-transform: scale3d(.3,.3,.3);
			transform: scale3d(.3,.3,.3)
		}

		20% {
			-webkit-transform: scale3d(1.1,1.1,1.1);
			transform: scale3d(1.1,1.1,1.1)
		}

		40% {
			-webkit-transform: scale3d(.9,.9,.9);
			transform: scale3d(.9,.9,.9)
		}

		60% {
			opacity: 1;
			-webkit-transform: scale3d(1.03,1.03,1.03);
			transform: scale3d(1.03,1.03,1.03)
		}

		80% {
			-webkit-transform: scale3d(.97,.97,.97);
			transform: scale3d(.97,.97,.97)
		}

		100% {
			opacity: 1;
			-webkit-transform: scale3d(1,1,1);
			transform: scale3d(1,1,1)
		}
	}

	@keyframes bounceIn {
		0%,100%,20%,40%,60%,80% {
			-webkit-transition-timing-function: cubic-bezier(0.215,.61,.355,1);
			transition-timing-function: cubic-bezier(0.215,.61,.355,1)
		}

		0% {
			opacity: 0;
			-webkit-transform: scale3d(.3,.3,.3);
			-ms-transform: scale3d(.3,.3,.3);
			transform: scale3d(.3,.3,.3)
		}

		20% {
			-webkit-transform: scale3d(1.1,1.1,1.1);
			-ms-transform: scale3d(1.1,1.1,1.1);
			transform: scale3d(1.1,1.1,1.1)
		}

		40% {
			-webkit-transform: scale3d(.9,.9,.9);
			-ms-transform: scale3d(.9,.9,.9);
			transform: scale3d(.9,.9,.9)
		}

		60% {
			opacity: 1;
			-webkit-transform: scale3d(1.03,1.03,1.03);
			-ms-transform: scale3d(1.03,1.03,1.03);
			transform: scale3d(1.03,1.03,1.03)
		}

		80% {
			-webkit-transform: scale3d(.97,.97,.97);
			-ms-transform: scale3d(.97,.97,.97);
			transform: scale3d(.97,.97,.97)
		}

		100% {
			opacity: 1;
			-webkit-transform: scale3d(1,1,1);
			-ms-transform: scale3d(1,1,1);
			transform: scale3d(1,1,1)
		}
	}

	@-webkit-keyframes rubberBand {
	    0% {
	        -webkit-transform: scale3d(1, 1, 1);
	        transform: scale3d(1, 1, 1);
	        opacity: 0;
	    }
	    30% {
	        -webkit-transform: scale3d(1.25, .75, 1);
	        transform: scale3d(1.25, .75, 1)
	    }
	    40% {
	        -webkit-transform: scale3d(0.75, 1.25, 1);
	        transform: scale3d(0.75, 1.25, 1)
	    }
	    50% {
	        -webkit-transform: scale3d(1.15, .85, 1);
	        transform: scale3d(1.15, .85, 1)
	    }
	    65% {
	        -webkit-transform: scale3d(.95, 1.05, 1);
	        transform: scale3d(.95, 1.05, 1)
	    }
	    75% {
	        -webkit-transform: scale3d(1.05, .95, 1);
	        transform: scale3d(1.05, .95, 1)
	    }
	    100% {
	        -webkit-transform: scale3d(1, 1, 1);
	        transform: scale3d(1, 1, 1);
	        opacity: 1;
	    }
	}

	@keyframes rubberBand {
	    0% {
	        -webkit-transform: scale3d(1, 1, 1);
	        -ms-transform: scale3d(1, 1, 1);
	        transform: scale3d(1, 1, 1);
	        opacity: 0;
	    }
	    30% {
	        -webkit-transform: scale3d(1.25, .75, 1);
	        -ms-transform: scale3d(1.25, .75, 1);
	        transform: scale3d(1.25, .75, 1)
	    }
	    40% {
	        -webkit-transform: scale3d(0.75, 1.25, 1);
	        -ms-transform: scale3d(0.75, 1.25, 1);
	        transform: scale3d(0.75, 1.25, 1)
	    }
	    50% {
	        -webkit-transform: scale3d(1.15, .85, 1);
	        -ms-transform: scale3d(1.15, .85, 1);
	        transform: scale3d(1.15, .85, 1)
	    }
	    65% {
	        -webkit-transform: scale3d(.95, 1.05, 1);
	        -ms-transform: scale3d(.95, 1.05, 1);
	        transform: scale3d(.95, 1.05, 1)
	    }
	    75% {
	        -webkit-transform: scale3d(1.05, .95, 1);
	        -ms-transform: scale3d(1.05, .95, 1);
	        transform: scale3d(1.05, .95, 1)
	    }
	    100% {
	        -webkit-transform: scale3d(1, 1, 1);
	        -ms-transform: scale3d(1, 1, 1);
	        transform: scale3d(1, 1, 1);
	        opacity: 1;
	    }
	}

	@keyframes grow {
	    0% {
	        -webkit-transform: scale(0);
	        transform: scale(0);
	    }
	    60% {
	        -webkit-transform: scale(1.15);
	        transform: scale(1.15);
	    }
	    80% {
	        -webkit-transform: scale(0.95);
	        transform: scale(0.95);
	    }
	    100% {
	        -webkit-transform: scale(1);
	        transform: scale(1);
	    }
	}

	@-webkit-keyframes grow {
	    0% {
	        -webkit-transform: scale(0);
	        transform: scale(0);
	    }
	    60% {
	        -webkit-transform: scale(1.15);
	        transform: scale(1.15);
	    }
	    80% {
	        -webkit-transform: scale(0.95);
	        transform: scale(0.95);
	    }
	    100% {
	        -webkit-transform: scale(1);
	        transform: scale(1);
	    }
	}

	@keyframes music-move {
	    0% {
	        -webkit-transform: rotate(0deg);
	        transform: rotate(0deg);
	    }
	    33% {
	        -webkit-transform: rotate(-5deg);
	        transform: rotate(-5deg);
	    }
	    66% {
	        -webkit-transform: rotate(5deg);
	        transform: rotate(5deg);
	    }
	    100% {
	        -webkit-transform: rotate(0deg);
	        transform: rotate(0deg);
	    }
	}

	@-webkit-keyframes music-move {
	    0% {
	        -webkit-transform: rotate(0deg);
	        transform: rotate(0deg);
	    }
	    33% {
	        -webkit-transform: rotate(-5deg);
	        transform: rotate(-5deg);
	    }
	    66% {
	        -webkit-transform: rotate(5deg);
	        transform: rotate(5deg);
	    }
	    100% {
	        -webkit-transform: rotate(0deg);
	        transform: rotate(0deg);
	    }
	}

	.wrap {
	    width: 100%;
	    height: 100%;
	}

	.page {
	    width: 100%;
	    height: 100%;
	    -webkit-backface-visibility: hidden;
	    -webkit-perspective: 1000;
	    position: relative;
	}

	.page>* {
	    opacity: 0;
	}

	.page-1 {
	    background: url({{ app_url_packaged }}/images/promo/source/page2bg.png) no-repeat center #3A1800;
	    background-size: auto 100%;
	}

	.page-1 .page1-curtainL,
	.page-1 .page1-curtainR {
	    position: absolute;
	    left: 50%;
	    bottom: 20%;
	    width: 60px;
	    height: 240px;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	}
	
	.current .page1-curtainL {
	    -webkit-animation: fadeInDown 1.5s cubic-bezier(0.11, 0.58, 0.31, 0.67) .3s forwards;
	    animation: fadeInDown 1.5s cubic-bezier(0.11, 0.58, 0.31, 0.67) .3s forwards;
	}

	.current .page1-curtainR {
	    -webkit-animation: fadeInDown 1.5s cubic-bezier(0.11, 0.58, 0.31, 0.67) 1.1s forwards;
	    animation: fadeInDown 1.5s cubic-bezier(0.11, 0.58, 0.31, 0.67) 1.1s forwards;
	}

	.current .page2-text {
	    -webkit-animation: fadeInDown 1.5s cubic-bezier(0.11, 0.58, 0.31, 0.67) 1.3s forwards;
	    animation: fadeInDown 1.5s cubic-bezier(0.11, 0.58, 0.31, 0.67) 1.3s forwards;
	}

	.current .page2-hand {
	    -webkit-animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .4s forwards;
	    animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .4s forwards;
	}

	.current .page3-select {
	    -webkit-animation: fadeInDown 1s cubic-bezier(0.12, 0.73, 0.12, 0.74) .3s forwards;
	    animation: fadeInDown 1s cubic-bezier(0.12, 0.73, 0.12, 0.74) .3s forwards;
	}

	.current .page3-select>label.page3-se-1 {
	    -webkit-animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) 1s forwards;
	    animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) 1s forwards;
	}

	.current .page3-select>label.page3-se-2 {
	    -webkit-animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) 1.5s forwards;
	    animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) 1.5s forwards;
	}

	.current .page3-select>label.page3-se-3 {
	    -webkit-animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) 2s forwards;
	    animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) 2s forwards;
	}

	.current .page4-title {
	    -webkit-animation: rubberBand 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .5s forwards;
	    animation: rubberBand 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .5s forwards;
	}

	.current .page4-shake .page4-shakeq.shakeq1 {
	    -webkit-animation: bounce 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .2s forwards;
	    animation: bounce 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .2s forwards;
		opacity:1;
	}

	.current .page4-shake .page4-shakeq.shakeq2 {
	    -webkit-animation: bounce 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .4s forwards;
	    animation: bounce 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .4s forwards;
		opacity:1;
	}

	.current .page4-shake .page4-shakeq.shakeq3 {
	    -webkit-animation: bounce 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .6s forwards;
	    animation: bounce 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .6s forwards;
		opacity:1;
	}

	.current .page4-shake .page4-shakeq.shakeq4 {
	    -webkit-animation: bounce 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .8s forwards;
	    animation: bounce 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .8s forwards;
		opacity:1;
	}

	.current .page4-shake .page4-shakeq.shakeq5 {
	    -webkit-animation: bounce 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) 1s forwards;
	    animation: bounce 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) 1s forwards;
		opacity:1;
	}

	.current .page5-all {
	    -webkit-animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .2s forwards;
	    animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .2s forwards;
	}

	.current .page6-dool {
	    -webkit-animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .2s forwards;
	    animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .2s forwards;
	}
	@-webkit-keyframes bounce {
		0%,100%,20%,53%,80% {
			-webkit-transition-timing-function: cubic-bezier(0.215,.61,.355,1);
			transition-timing-function: cubic-bezier(0.215,.61,.355,1);
			-webkit-transform: translate3d(0,0,0);
			transform: translate3d(0,0,0)
		}

		40%,43% {
			-webkit-transition-timing-function: cubic-bezier(0.755,.050,.855,.060);
			transition-timing-function: cubic-bezier(0.755,.050,.855,.060);
			-webkit-transform: translate3d(0,-30px,0);
			transform: translate3d(0,-30px,0)
		}

		70% {
			-webkit-transition-timing-function: cubic-bezier(0.755,.050,.855,.060);
			transition-timing-function: cubic-bezier(0.755,.050,.855,.060);
			-webkit-transform: translate3d(0,-15px,0);
			transform: translate3d(0,-15px,0)
		}

		90% {
			-webkit-transform: translate3d(0,-4px,0);
			transform: translate3d(0,-4px,0)
		}
	}

	@keyframes bounce {
		0%,100%,20%,53%,80% {
			-webkit-transition-timing-function: cubic-bezier(0.215,.61,.355,1);
			transition-timing-function: cubic-bezier(0.215,.61,.355,1);
			-webkit-transform: translate3d(0,0,0);
			-ms-transform: translate3d(0,0,0);
			transform: translate3d(0,0,0)
		}

		40%,43% {
			-webkit-transition-timing-function: cubic-bezier(0.755,.050,.855,.060);
			transition-timing-function: cubic-bezier(0.755,.050,.855,.060);
			-webkit-transform: translate3d(0,-30px,0);
			-ms-transform: translate3d(0,-30px,0);
			transform: translate3d(0,-30px,0)
		}

		70% {
			-webkit-transition-timing-function: cubic-bezier(0.755,.050,.855,.060);
			transition-timing-function: cubic-bezier(0.755,.050,.855,.060);
			-webkit-transform: translate3d(0,-15px,0);
			-ms-transform: translate3d(0,-15px,0);
			transform: translate3d(0,-15px,0)
		}

		90% {
			-webkit-transform: translate3d(0,-4px,0);
			-ms-transform: translate3d(0,-4px,0);
			transform: translate3d(0,-4px,0)
		}
	}
	
	
	.page-1 .page1-curtainL {
	    margin-left: -140px;
	    background-position: -45px 0;
	}

	.page-1 .page1-curtainR {
	    margin-left: 80px;
	    background-position: -255px 0;
	}

	.page-2 {
	    background: url({{ app_url_packaged }}/images/promo/source/page3bg.png) no-repeat center #3A1800;
	    background-size: auto 100%;
	}

	.page-2 .page2-text,
	.page-2 .page2-hand {
	    position: absolute;
	    left: 50%;
	}

	.page-2 .page2-text {
	    top: 50%;
	    width: 150px;
	    height: 25px;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	    margin-left: -75px;
	    background-position: -615px 0;
		margin-top:-140px;
	}

	.page-2 .page2-hand {
	    top: 50%;
	    width: 260px;
	    height: 243px;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
		margin-top:-100px;
	    margin-left: -130px;
	    background-position: -325px 3px;
	}

	.page-3 {
	    background: url({{ app_url_packaged }}/images/promo/source/page4bg.png) no-repeat center #3A1800;
	    background-size: auto 100%;
	}

	.page-3 .page3-select {
	    width: 200px;
	    height: 220px;
	    position: absolute;
	    left: 50%;
	    top: 50%;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	    margin-left: -100px;
	    background-position: -783px 3px;
	    padding-top: 80px;
		margin-top:-170px;
	}

	.page-3 .page3-select>label {
	    position: relative;
	    width: 170px;
	    height: 70px;
	    margin-left: 16px;
	    display: block;
	    text-indent: -999em;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	    opacity: 0
	}

	.page-3 .page3-select>label>input {
	    opacity: 0;
	    position: absolute;
	    width: 100%;
	    height: 100%;
	    top: 0;
	    left: 0;
	}

	.page-3 .page3-select>label.page3-se-1 {
	    background-position: -245px -494px;
	}

	.page-3 .page3-select>label.page3-se-2 {
	    background-position: -419px -494px;
	}

	.page-3 .page3-select>label.page3-se-3 {
	    background-position: -594px -494px;
	}

	.page-4 {
	    background: url({{ app_url_packaged }}/images/promo/source/page5-bg1.png) no-repeat center #3A1800;
	    background-size: auto 100%;
	}

	.page-4 .page4-title {
	    width: 70px;
	    height: 30px;
	    position: absolute;
	    top: 50%;
	    left: 50%;
	    margin-left: -35px;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	    background-position: -932px -314px;
		margin-top: -120px;
	}

	.page-4 .page4-shake {
	    width: 300px;
	    height: 390px;
	    position: absolute;
	    left: 50%;
	    bottom: 0;
	    top: auto;
	    margin-left: -150px;
	    opacity: 1;
		background-image: url(https://s3.taihuoniao.com/images/promo/source/page5-qianx1.png);
	    background-repeat: no-repeat;
	    background-size: 100% auto;
	    background-position: 0 40px;
	}

	.page-4.active .page4-shake {
	    animation: grow 0.7s 0.4s 1 ease, music-move 1s 3.3s infinite alternate ease-in-out;
	    -webkit-animation: grow 0.7s 0.4s 1 ease, music-move 1s 3.3s infinite alternate ease-in-out;
	    transform-origin: bottom;
	    -webkit-transform-origin: bottom;
	}

	.page-4 .page4-shake .page4-shakeq {
	    width: 46px;
	    height: 355px;
	    position: absolute;
	    bottom: 0;
	    left: 50%;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	    opacity: 0;
	}

	.page-4 .page4-shake .page4-shakeq.shakeq1 {
	    margin-left: -123px;
	    background-position: -769px -348px;
	}

	.page-4 .page4-shake .page4-shakeq.shakeq2 {
	    margin-left: -71px;
	    background-position: -816px -348px;
	}

	.page-4 .page4-shake .page4-shakeq.shakeq3 {
	    margin-left: -18px;
	    background-position: -862px -348px;
	}

	.page-4 .page4-shake .page4-shakeq.shakeq4 {
	    margin-left: 37px;
	    background-position: -910px -348px;
	}

	.page-4 .page4-shake .page4-shakeq.shakeq5 {
	    margin-left: 87px;
	    background-position: -955px -348px;
	}

	.page-5 {
	    background: url({{ app_url_packaged }}/images/promo/source/page1bg.png) no-repeat center #3A1800;
	    background-size: auto 100%;
	}

	.page5-all {
	    width: 204px;
	    height: 371px;
	    position: absolute;
	    top: 15%;
	    left: 50%;
	    margin-left: -102px;
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6center.png);
	    background-repeat: no-repeat;
	    background-size: 204px 371px;
	    overflow: hidden;
	}

	.page5-all .page5-sf {
	    width: 100%;
	    height: 100%;
	    background-position: center;
	    background-repeat: no-repeat;
	    background-size: 204px 371px;
	    display: none;
	}

	.page5-all .page5-sf.show {
	    display: block!important;
	}

	.page5-all .page5-sf.sf-page01 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-sy101.png);
	}

	.page5-all .page5-sf.sf-page02 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-sy201.png);
	}

	.page5-all .page5-sf.sf-page03 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-sy301.png);
	}

	.page5-all .page5-sf.sf-page04 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-sy401.png);
	}

	.page5-all .page5-sf.sf-page05 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-sy501.png);
	}

	.page5-all .page5-sf.sf-page06 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-hy101.png);
	}

	.page5-all .page5-sf.sf-page07 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-hy201.png);
	}

	.page5-all .page5-sf.sf-page08 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-hy301.png);
	}

	.page5-all .page5-sf.sf-page09 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-hy401.png);
	}

	.page5-all .page5-sf.sf-page10 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-hy501.png);
	}

	.page5-all .page5-sf.sf-page11 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-jk101.png);
	}

	.page5-all .page5-sf.sf-page12 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-jk201.png);
	}

	.page5-all .page5-sf.sf-page13 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-jk301.png);
	}

	.page5-all .page5-sf.sf-page14 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-jk401.png);
	}

	.page5-all .page5-sf.sf-page15 {
	    background-image: url({{ app_url_packaged }}/images/promo/source/page6-jk501.png);
	}

	.page-6 {
	    background: url({{ app_url_packaged }}/images/promo/source/page7bg.png) no-repeat center #3A1800;
	    background-size: auto 100%;
	}

	.page-6 .page6-text {
	    width: 80px;
	    height: 310px;
	    position: absolute;
	    left: 50%;
	    margin-left: -100px;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	    background-position: -700px -28px;
	    opacity: 1;
		top:50%;
		margin-top:-200px;
	}

	.page-6 .page6-time {
	    width: 120px;
	    height: 228px;
	    position: absolute;
	    left: 50%;
	    opacity: 1;
		top:50%;
		margin-top:-200px;
		margin-left:-15px;
	}

	.page-6 .page6-time .time-mint {
	    position: absolute;
	    width: 100%;
	    height: 100%;
	    display: none;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	}

	.page-6 .page6-time .time-mint.show {
	    display: block!important;
		opacity: 1;
	}

	.page-6 .page6-time .time-mint.time-mint5 {
	    background-position: -64px -240px;
	}

	.page-6 .page6-time .time-mint.time-mint4 {
	    background-position: -185px -240px;
	}

	.page-6 .page6-time .time-mint.time-mint3 {
	    background-position: -306px -240px;
	}

	.page-6 .page6-time .time-mint.time-mint2 {
	    background-position: -426px -240px;
	}

	.page-6 .page6-time .time-mint.time-mint1 {
	    background-position: -547px -240px;
	}

	.page-6 .page6-link {
	    width: 65px;
	    height: 110px;
	    position: absolute;
	    left: 50%;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	    background-position: 0px -237px;
	    opacity: 1;
		top:50%;
		margin-top:120px;
		margin-left:-110px;
	}

	.page-6 .page6-dool {
	    width: 155px;
	    height: 240px;
	    position: absolute;
	    left: 50%;
	    background-image: url({{ app_url_packaged }}/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	    background-position: -100px 0px;
		top:50%;
		margin-top:20px;
		margin-left:-30px;
	}

	.page6-link>a {
	    display: block;
	    width: 100%;
	    height: 50px;
	}

	.page-6 .page-shark {
	    position: absolute;
	    background: rgba(0, 0, 0, 0.8);
	    z-index: 9;
	    display: none;
	    top: 0;
	    left: 0;
	    right: 0;
	    opacity: 1;
	    bottom: 0;
	}
	.page-6 .page-shark i {
	    display: block;
	    width: 225px;
	    height: 45px;
	    position: absolute;
	    top: 20px;
	    right: 30px;
	    background-image: url(https://s3.taihuoniao.com/images/promo/source/tools.png);
	    background-repeat: no-repeat;
	    background-size: 1000px 706px;
	    background-position: 0px -500px;
	    opacity: 0;
	}

    .page-6 .page6-dool {
        width: 155px;
        height: 240px;
        position: absolute;
        top: 50%;
        left: 50%;
		margin-top:20px;
        margin-left: -35px;
        background-image: url(https://s3.taihuoniao.com/images/promo/source/tools.png);
        background-repeat: no-repeat;
        background-size: 1000px 706px;
        background-position: -100px 0px;
    }

	.active.page-shark i {
	    -webkit-animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .5s forwards;
	    animation: fadeInDown 1s cubic-bezier(0.11, 0.58, 0.31, 0.67) .5s forwards;
	}
</style>
{% endblock %}
{% block layout_js %}
    <script type="text/javascript">
        var m_name = '神卜鸟仙：你的2016运势大揭秘';
	      var img_url = '{{ app_url_packaged }}/images/promo/source/title.jpg';
	      var link = '{{ app_url_wap_promo }}/source';
	      var desc_str = '你的爱情、健康、事业还有多少电量，2016年如何“快人一步”满血复活，赶紧让鸟仙卜算一下吧！';

	  	wx.config({
	  	  debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
	  	  appId: '{{ app_id }}', // 必填，公众号的唯一标识
	  	  timestamp: {{ timestamp }}, // 必填，生成签名的时间戳
	  	  nonceStr: '{{ wxnonceStr }}', // 必填，生成签名的随机串
	  	  signature: '{{ wxSha1 }}',// 必填，签名，见附录1
	  	  jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareWeibo', 'hideMenuItems'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
	  	});
	  	wx.ready(function(){
	  	// 2.1 监听“分享给朋友”，按钮点击、自定义分享内容及分享结果接口
	  	 wx.onMenuShareAppMessage({
	  	  title: m_name,
	  	  desc: desc_str,
	  	  link: link,
	  	  imgUrl: img_url,
	  	  success: function (res) {
	  	    record_share_num();
	  	  }
	  	});      

	  	// 2.2 监听“分享到朋友圈”按钮点击、自定义分享内容及分享结果接口
	  	wx.onMenuShareTimeline({
	  	  title: m_name,
	  	  desc: desc_str,
	  	  link: link,
	  	  imgUrl: img_url,
	  	  success: function (res) {
	  	    record_share_num();
	  	  }
	  	});

	  	// 2.3 监听“分享到QQ”按钮点击、自定义分享内容及分享结果接口
	  	wx.onMenuShareQQ({
	  	  title: m_name,
	  	  desc: desc_str,
	  	  link: link,
	  	  imgUrl: img_url,
	  	  success: function (res) {
	  	    record_share_num();
	  	  }
	  	});

	  	// 2.4 监听“分享到微博”按钮点击、自定义分享内容及分享结果接口
	  	wx.onMenuShareWeibo({
	  	  title: m_name,
	  	  desc: desc_str,
	  	  link: link,
	  	  imgUrl: img_url,
	  	  success: function (res) {
	  	    record_share_num();
	  	  }
	  	});
	  	});

	  	//记录分享数
	  	function record_share_num(){
	  	var url = '{{ app_url_wap }}/app/site/promo/ajax_stat_sum_record';
	  	  $.get(url, { target_id: 18, count_name:'count', type: 4, kind:4 });
        $('.page-shark').hide().removeClass("active");
	  	}
	  
		  
		  
        var PageSlider  = new PageSlider({
            pages: $('.wrap .page'),
            oninit: function () {
                $('.page3-select-one').click(function(){
                    var retuNum = Math.floor(Math.random()*5);
                    $('.page3-select-two,.page3-select-three').attr('state','');
                    var pushNum = returNum(retuNum);
                    $('.page5-all .page5-sf').eq(retuNum).addClass("show").siblings(".page5-sf").removeClass("show");
                    $('.page6-time .time-mint').eq(pushNum).addClass("show").siblings(".time-mint").removeClass("show");
                    PageSlider.next();
                });
                $('.page3-select-two').click(function(){
                    var retuNum = Math.floor(Math.random()*5+5);
                    $('.page3-select-one,.page3-select-three').attr('state','');
                    var pushNum = returNum(retuNum);
                    $('.page5-all .page5-sf').eq(retuNum).addClass("show").siblings(".page5-sf").removeClass("show");
                    $('.page6-time .time-mint').eq(pushNum).addClass("show").siblings(".time-mint").removeClass("show");
                    PageSlider.next();
                });
                $('.page3-select-three').click(function(){
                    var retuNum = Math.floor(Math.random()*5+10);
                    $('.page3-select-one,.page3-select-two').attr('state','');
                    var pushNum = returNum(retuNum);
                    $('.page5-all .page5-sf').eq(retuNum).addClass("show").siblings(".page5-sf").removeClass("show");
                    $('.page6-time .time-mint').eq(pushNum).addClass("show").siblings(".time-mint").removeClass("show");
                    PageSlider.next();
                });
                function returNum(a){
                    var rNum = a;
                    if(rNum > 10){
                        var Rnum = rNum - 10;
                        return Rnum;
                    }else if(rNum > 5){
                        var Rnum = rNum - 5;
                        return Rnum;
                    }else{
                        return rNum;
                    };
                    console.log("执行了");
                };
                $('.link-shark').click(function(){
                    $('.page-shark').show().addClass("active");
                });
                 
				
				    init();
                    var SHAKE_THRESHOLD = 3000;
                    var last_update = 0;
                    var x = y = z = last_x = last_y = last_z = 0;
                    function init() {
                        if (window.DeviceMotionEvent) {
                            window.addEventListener('devicemotion', deviceMotionHandler, false);
                        } else {
                            alert('not support mobile event');
                        }
                    }
                    function deviceMotionHandler(eventData) {
                        var acceleration = eventData.accelerationIncludingGravity;
                        var curTime = new Date().getTime();
                        if ((curTime - last_update) > 100) {
                            var diffTime = curTime - last_update;
                            last_update = curTime;
                            x = acceleration.x;
                            y = acceleration.y;
                            z = acceleration.z;
                            var speed = Math.abs(x + y + z - last_x - last_y - last_z) / diffTime * 10000;

                            if (speed > SHAKE_THRESHOLD && $(".page-4").hasClass("current") ) {
                                $('.page-4').addClass('active');
                                if($(this).hasClass("playing")){
                                    
                                    $(this).removeClass("playing").addClass('stop');
                                }
                                else{
                                    $(this).addClass("playing").removeClass('stop');
                                    $('#app_bgm').get(0).play();
                                }
                                $('#app_bgm').get(0).pause();
                                $('#app_yyy').get(0).play();
                                setTimeout(function () {PageSlider.next();}, 1000);
                                setTimeout(function () {
                                    $('#app_bgm').get(0).play();
                                    if($('.music').hasClass("playing")){
                                        $('#app_bgm').get(0).play();
                                    }
                                    else{
                                        $('#app_bgm').get(0).pause();
                                    }
                                    
                                    
                                }, 1000);
                            }
                            last_x = x;
                            last_y = y;
                            last_z = z;
                        }
                    }
					
            }
        });
        $('.music').on('tap',function(){
            if($(this).hasClass("playing")){
                $('#app_bgm').get(0).pause();
                $(this).removeClass("playing").addClass('stop');
            }
            else{
                $(this).addClass("playing").removeClass('stop');
                $('#app_bgm').get(0).play();
            }
        });
		  
	    var basePath = "https://s3.taihuoniao.com/images/promo/source/";
	    if (!(typeof webpsupport == 'function')) {
	        var webpsupport = function (cb) {
	            cb();
	        }
	    }
	    webpsupport(function (webpa) {
	    var loader = new PxLoader(),
	     fileList =[
			'page1bg.png','page2bg.png','page3bg.png','page4bg.png','page5bg.png','page6-hy101.png','page6-hy201.png','page6-hy301.png','page6-hy401.png','page6-hy501.png','page6-jk101.png','page6-jk201.png','page6-jk301.png','page6-jk401.png','page6-jk501.png','page6-sy101.png','page6-sy201.png','page6-sy301.png','page6-sy401.png','page6-sy501.png','page6center.png','page7bg.png','tools.png'
		];
     
	     for (var i = 0; i < fileList.length; i++) {
	         var basename = fileList[i].substring(fileList[i].lastIndexOf('/') + 1);

	         if (webpa && img_map && (basename in img_map) && img_map[basename]) { //if webp
	             var path = fileList[i].replace(/\.\w+/, '.webp');
	         } else {
	             var path = fileList[i];
	         }
	        //  $('#app_bgm').get(0).pause();
	         loader.addImage(basePath + path);
	     }

	     loader.addCompletionListener(function () {
	         $('.loading').remove();
	         $('.page').eq(0).addClass('current');
	         $('.wrap').show();
	         $('#app_bgm').get(0).play();
	         $('.music').show();
	     });

	     //loading 进度监听
	     loader.addProgressListener(function (e) {
	         var percentUp = Math.round((e.completedCount / e.totalCount) * 100), //正序, 1-100
	             progressDown = 100 - percentUp;      
	         $('.loading-num').text(percentUp + '%');
	     });

	     //启动
	     loader.start();
	    });
    </script>
{% endblock %}
{% block content %}
<img src="{{ app_url_packaged }}/images/promo/source/title.jpg" style="display:none;">
    <div class="loading">
        <div class="loading__inner">
            <div class="loading__img"></div>
            <div class="loading-num">0%</div>
        </div>
    </div>

    <div class="wrap">
        <div class="page page-1">
            <div class="page1-curtainL"></div>
            <div class="page1-curtainR"></div>
            <div class="arrow"></div>
        </div>

        <div class="page page-2">
            <div class="page2-text"></div>
            <div class="page2-hand"></div>
            <div class="arrow"></div>
        </div>
        <!--data-lock-next="true"-->
        <div class="page page-3" data-lock-next="true">
            <div class="page3-select">
                <label class="page3-se-1">
                    <input type="radio" class="page3-select-one" name="1">事业</label>
                <label class="page3-se-2">
                    <input type="radio" class="page3-select-two" name="1">姻缘</label>
                <label class="page3-se-3">
                    <input type="radio" class="page3-select-three" name="1">身体</label>
            </div>
        </div>
        <!--data-lock-next="true" data-lock-prev="true"-->
        <div class="page page-4" data-lock-next="true" data-lock-prev="true">
            <div class="page4-title"></div>
            <div class="page4-shake">
                <div class="page4-shakeq shakeq1"></div>
                <div class="page4-shakeq shakeq2"></div>
                <div class="page4-shakeq shakeq3"></div>
                <div class="page4-shakeq shakeq4"></div>
                <div class="page4-shakeq shakeq5"></div>
			</div>
        </div>
        <!--data-lock-next="true"-->
        <div class="page page-5" data-lock-prev="true">
            <div class="page5-all">
                <div class="page5-sf sf-page01"></div>
                <div class="page5-sf sf-page02"></div>
                <div class="page5-sf sf-page03"></div>
                <div class="page5-sf sf-page04"></div>
                <div class="page5-sf sf-page05"></div>
                <div class="page5-sf sf-page06"></div>
                <div class="page5-sf sf-page07"></div>
                <div class="page5-sf sf-page08"></div>
                <div class="page5-sf sf-page09"></div>
                <div class="page5-sf sf-page10"></div>
                <div class="page5-sf sf-page11"></div>
                <div class="page5-sf sf-page12"></div>
                <div class="page5-sf sf-page13"></div>
                <div class="page5-sf sf-page14"></div>
                <div class="page5-sf sf-page15"></div>
            </div>
            <div class="arrow"></div>
        </div>
        <!--data-lock-next="true" data-lock-prev="true"-->
        <div class="page page-6">
            <div class="page6-text"></div>
            <div class="page6-time">
                <div class="time-mint time-mint1"></div>
                <div class="time-mint time-mint2"></div>
                <div class="time-mint time-mint3"></div>
                <div class="time-mint time-mint4"></div>
                <div class="time-mint time-mint5"></div>
            </div>
            <div class="page6-dool"></div>
            <div class="page6-link">
                <a class="link-shark"></a>
                <a href="http://z.jd.com/project_details.action?projectId=34520" class="link-jd"></a>
            </div>
            <div class="page-shark">
                <i></i>
            </div>
        </div>
    </div>

    <div id="orientLayer" class="mod-orient-layer">
        <div class="mod-orient-layer__content"><i class="icon mod-orient-layer__icon-orient"></i>
            <div class="mod-orient-layer__desc">为了更好的体验，请使用竖屏浏览</div>
        </div>
    </div>
    <div class="music playing" style="display:none;"></div>
    <audio id="app_bgm" src="https://s3.taihuoniao.com/wechat/js/berger33.mp3" loop="true"></audio>
    <audio id="app_yyy" src="https://s3.taihuoniao.com/wechat/js/yyy.mp3"></audio>
    
{% endblock %}
