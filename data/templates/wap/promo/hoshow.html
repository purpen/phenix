{%extends 'layout/xy.html'%}
{% block title %} {% endblock %}
{% block page_css %}
<style type="text/css">
.ui.hide{
	display:none;
}
*{
	margin:0;
	padding:0;
}
html, body {
    width: 100%;
    height: 108%;
}
.holiday{
	width: 100%;
    height: 100%;
    overflow: hidden;
    -webkit-backface-visibility: hidden;
    -webkit-perspective: 1000;
	display:none;
}
.page_inner {
    position: absolute;
    width: 640px;
    height: 1208px;
    top: 50%;
    left: 50%;
    margin: -595px 0 0 -320px;
    -webkit-perspective: 1000;
    perspective: 1000;
    overflow: hidden;
}
.pg-bg{
	position:absolute;
	left:0;
	top:0;
	width:100%;
	height:100%;
	background:url({{ app_url_packaged }}/images/promo/holiday/bg.jpg);
	background-size: cover;
}
.tbanner{
	background:url({{ app_url_packaged }}/images/promo/holiday/top.jpg);
	width:100%;
	height:30px;
	background-size:cover;
	position:absolute;
	top:0;
	left:0;
	z-index:2;
}
.rl{
	background:url({{ app_url_packaged }}/images/promo/holiday/right.png);
	width:170px;
	height:250px;
	background-size:cover;
	position:absolute;
	top:5px;
	right:0;
}
.c1{
	background:url({{ app_url_packaged }}/images/promo/holiday/c1.png);
	width:75px;
	height:165px;
	background-size:cover;
	position:absolute;
	top:-15px;
	left:20px;
}
.c2{
	background:url({{ app_url_packaged }}/images/promo/holiday/c2.png);
	width:55px;
	height:110px;
	background-size:cover;
	position:absolute;
	top:-15px;
	left:120px;
}
h2{
	position:absolute;
	color:#e60012;
	font-size:40px;
	width:100%;
	left:0;
	top: 60px;
    height: 40px;
    text-align: center;
}
h2 + p{
	color:#2e2e2e;
	font-size: 24px;
	height: 24px;
	width:100%;
	text-align:center;
	left:0;
	top:110px;
	position:absolute;
}
.mpbg{
	background:url({{ app_url_packaged }}/images/promo/holiday/cp.png);
	background-size:cover;
	width:640px;
	height:520px;
	position:absolute;
	left:0;
	top:150px;
}
.mphoto{
	background:url({{ app_url_packaged }}/images/promo/holiday/gxgx.jpg);
	background-size:cover;
	width:350px;
	height:350px;
	border-radius:50%;
	position:absolute;
	left:50%;
	margin-left:-175px;
	top: 50%;
    margin-top: -175px;
}
.descript{
	position: absolute;
    width: 580px;
    left: 15px;
    top: 680px;
    font-size: 24px;
    color: #e81627;
    max-height: 185px;
    padding: 15px;
    border: 1px dashed #e81627;
}
.descript p{
	margin:5px 0;
	line-height: 28px;
}
.red.btn{
    width: 610px;
    left: 15px;
	position:absolute;
	top:925px;
	background:#e60012;
	color:#fff;
	font-size:30px;
    text-align: center;
    line-height: 60px;
    text-decoration: none;
    border-radius: 4px;
}
.bottom{
	position:absolute;
    top: 1025px;
    width: 610px;
    left: 15px;
    font-size: 24px;
}
.bottom p{
	margin:5px 0;
	line-height:24px;
	color:#545454;
}
.loading{
    position: relative;
    width: 100%;
    height: 100%;
    background-color: #070709;
	z-index:999;
}

.loading__inner{
    position: absolute;
    left: 50%;
    top: 50%;
    margin-left: -26px;
    margin-top: -16px;
    width: 52px;
    height: 32px;
    text-align: center;
    color: #666;
    font-size: 12px;
    background-color: #070709;
}
.loading-num{
    position: absolute;
    left: 0;
    bottom: -10px;
    width: 100%;
    text-align: center;
}
  /**** 横屏 ****/
  @-webkit-keyframes rotation {
    10% {
        transform: rotate(90deg);
        -webkit-transform: rotate(90deg)
    }
    50%, 60% {
        transform: rotate(0deg);
        -webkit-transform: rotate(0deg)
    }
    90% {
        transform: rotate(90deg);
        -webkit-transform: rotate(90deg)
    }
    100% {
        transform: rotate(90deg);
        -webkit-transform: rotate(90deg)
    }
}

@keyframes rotation {
    10% {
        transform: rotate(90deg);
        -webkit-transform: rotate(90deg)
    }
    50%, 60% {
        transform: rotate(0deg);
        -webkit-transform: rotate(0deg)
    }
    90% {
        transform: rotate(90deg);
        -webkit-transform: rotate(90deg)
    }
    100% {
        transform: rotate(90deg);
        -webkit-transform: rotate(90deg)
    }
}

#orientLayer {
    display: none;
}

@media screen and (min-aspect-ratio: 13/8) {
    #orientLayer {
        display: block;
    }
}

.mod-orient-layer {
    display: none;
    position: absolute !important;
    height: 100%;
    width: 100%;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    background: #000;
    z-index: 9997;
overflow:hidden !important;
}

.mod-orient-layer__content {
    position: absolute;
    width: 100%;
    top: 45%;
    margin-top: -35px !important;
    text-align: center
}

.mod-orient-layer__icon-orient {
    background-image: url(http://frstatic.qiniudn.com/images/promo/hengping.png);
    display: inline-block;
    width: 34px !important;
    height: 55px !important;
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -webkit-animation: rotation infinite 1.5s ease-in-out;
    animation: rotation infinite 1.5s ease-in-out;
    -webkit-background-size: 34px;
    background-size: 34px !important;
}

.mod-orient-layer__desc {
    margin-top: 10px !important;
    font-size: 9px !important;
    color: #fff
}
.mphoto.playing{
	-webkit-animation: 7s spin linear infinite;
	animation: 7s spin linear infinite;
}
@-webkit-keyframes spin {
    0% {
        -webkit-transform: rotateZ(0deg);
    }

    100% {
        -webkit-transform: rotateZ(360deg);
    }
}
*{
	-webkit-appearance:none;
	-webkit-tap-highlight-color:rgba(255,255,255,0);
}

</style>
{% endblock %}
{% block layout_js %}
	<script type="text/javascript" src="{{ app_url_packaged }}/javascript/jquery-2.min.js"></script>
	<script type="text/javascript" src="http://frstatic.qiniudn.com/images/promo/holiday/PxLoader.min.js"></script>
	<script type="text/javascript" src="http://frstatic.qiniudn.com/images/promo/holiday/PxLoaderImage.min.js"></script>
	<!--<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>-->
	<script type="text/javascript">
	    // 放大元素,按照640x1008定位,按比例scale
	    function scaleEle(selector,position){
	        var pageScale;
	        var currentScale=screenWidth/screenHeight;
	        var originScale=640/1040;
	        if(currentScale>originScale){
	            pageScale=screenHeight/1040;
	        }else{
	            pageScale=screenWidth/640;
	        }
	        $(selector).css({"-webkit-transform-origin":position,"transform-origin":position,"-webkit-transform":"scale("+pageScale+")","transform":"scale("+pageScale+")"});
	    }

	    var screenHeight = document.documentElement.clientHeight;
	    var screenWidth = document.documentElement.clientWidth;

	    scaleEle(".page_inner","center");
		
	    var basePath = "{{ app_url_packaged }}/images/promo/holiday/";
	    if (!(typeof webpsupport == 'function')) {
	        var webpsupport = function (cb) {
	            cb();
	        }
	    }
	    webpsupport(function (webpa) {
	    var loader = new PxLoader(),
	     fileList =[
			'bg.jpg','top.jpg','cp.png','gxgx.jpg','right.png'
		 
		];

	     for (var i = 0; i < fileList.length; i++) {
	         var basename = fileList[i].substring(fileList[i].lastIndexOf('/') + 1);

	         if (webpa && img_map && (basename in img_map) && img_map[basename]) { //if webp
	             var path = fileList[i].replace(/\.\w+/, '.webp');
	         } else {
	             var path = fileList[i];
	         }
			 $('#app_bgm').get(0).pause();
	         loader.addImage(basePath + path);
	     }

	     loader.addCompletionListener(function () {
	         $('.loading').remove();
			 $('.holiday').show();
			 $('#app_bgm').get(0).play();
	     });

	     //loading 进度监听
	     loader.addProgressListener(function (e) {
	         var percentUp = Math.round((e.completedCount / e.totalCount) * 100), //正序, 1-100
	             progressDown = 100 - percentUp;      
	         $('.loading-num').text(percentUp + '%');
	     });

	     //启动
	     loader.start();
	    });
		
		$('.mphoto').on('click',function(){
			if($(this).hasClass("playing")){
			  $('#app_bgm').get(0).pause();
				$(this).removeClass("playing").addClass('stop');
			}
			else{
				$(this).addClass("playing").removeClass('stop');
				$('#app_bgm').get(0).play();
			}
		});
		
	</script>
{% endblock %}

{% block content %}
<div class="loading">
    <div class="loading__inner">
        <div class="loading__img"></div>
        <div class="loading-num">0%</div>
    </div>
</div>
<div class="holiday">
	<div class="tbanner"></div>
	<div class="pg-bg"></div>
	<div class="page_inner">
		<div class="rl"></div>
		<div class="c1"></div>
		<div class="c2"></div>
		<h2>《恭喜恭喜》</h2>
		<p>中国娃娃</p>
		<div class="mpbg">
			<div class="mphoto playing">
			</div>
		</div>
		
		<div class="descript">
			<p>“旺旺大礼包，新年一定会旺哦~”</p>
			<p>告诉我旺旺大礼包是不是你小时候的梦想？</p>
			<p>旺仔牛奶、小馒头、仙贝……大礼包作为年度零食福利就像成年后一年一度的维密天使秀。吮指美味一字排开，那阵仗你懂得！从选择旺旺的这一刻起，你会一路旺到底！</p>
		</div>
		
		<a href="" class="red btn">点击抢酸奶杯</a>
		
	
		<div class="bottom">
			<p style="margin-bottom: 12px;color: #000;">规则：</p>
			<p>	1.点击“我要酸奶杯”登录太火鸟社区；</p>
			<p>	2.登录后返回此页面，点击右上角分享至朋友圈；</p>
			<p>	3.成功分享即有机会白抢康腾宝酸奶杯1个；</p>
			<p>	4.最终结果请登录太火鸟官网查询；</p>
		
		</div>
	</div>
	
</div>
<div id="orientLayer" class="mod-orient-layer">
    <div class="mod-orient-layer__content">
		<i class="icon mod-orient-layer__icon-orient"></i>
        <div class="mod-orient-layer__desc">为了更好的体验，请使用竖屏浏览</div>
    </div>
</div>
<audio id="app_bgm" src="{{ app_url_packaged }}/images/promo/holiday/gxgx.mp3" loop="true" autoplay></audio>
{% endblock %}







